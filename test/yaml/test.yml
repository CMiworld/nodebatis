namespace: 'test'

attrs: id, name, age

conds:
    - if:
        test: :age > 18
        sql: and age = :age
    - if:
        test: :age > 18
        sql: and age = :age

query:
    - select {{ test.attrs }} from test where
    - '{{test.conds}}'
    - if:
        test: :name
        sql: and name = :name
    - order by name

whereUnionTest:
    - select * from test where {{test.conds}}
    - union all
    - select * from test where
    - if:
        test: :name
        sql: and name = :name
    - limit 1

forTest:
    - select * from test where
    - id in (
    - for:
        array: ids
        sql: :id
        seperator: ','
    - )

batchInsert:
    - insert into test(name, age) values
    - for:
        array: data
        sql: (:name, :age)
        seperator: ','
